#include <RCSwitch.h>

const int buttonPin = 2;
const int analogPinX = A3;
const int analogPinY = A4;

const int treshold = 512;
const int precision = 50;

int valx = 0;
int valy = 0;
int buttonState = 0;

RCSwitch mySwitch = RCSwitch();

void setup() {
  Serial.begin(9600);
  // Transmitter is connected to Arduino Pin #10  mySwitch.enableTransmit(10);
}
void loop() {
  buttonState = digitalRead(buttonPin);
  valx = analogRead(analogPinX);
  valy = analogRead(analogPinY);
  
  //Radius from Joystick
  if (valx < treshold-precision OR valx > treshold+precision){
      mySwitch.send(valx, 24);
  }
      
  //Velocity from Joystick 
  if (valy < treshold-precision OR valy > treshold+precision){
      mySwitch.send(valx + 2048, 24);
  }
  //End of joystick handeling 
}
